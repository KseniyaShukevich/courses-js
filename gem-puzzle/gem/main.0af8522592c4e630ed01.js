!function(){var t={3835:function(){var t=document.createElement("div");t.className="container",document.body.append(t)},1595:function(t,e,n){"use strict";function r(t,e){var n=document.createElement("div");return n.className=t,n.textContent=e,n}function o(t,e){t.forEach((function(t){t.style.display=e}))}var a=document.createElement("div");a.className="container-header",a.append(r("content time","Время: 00:00")),a.append(r("content moves","Шагов: 0")),a.append(r("content btn-pause","Пауза")),document.body.append(a);n(3835);var i,c=document.createElement("div"),u=document.createElement("div");function l(){var t=document.createElement("select");t.className="select settings";for(var e=function(){var t=4,e=localStorage.getItem("arraySaveGame");return e&&"null"!==e&&(t=+(e=e.split(","))[e.length-2]),t}(),n=3;n<9;n+=1){var r=document.createElement("option");n===e&&r.setAttribute("selected","selected"),r.value=n,r.textContent="".concat(n,"x").concat(n),t.append(r)}return t}function s(t,e){var n=document.createElement("div");n.className="column-rating rating",n.append(r("header-rating rating",e));for(var o=0;o<10;o+=1)n.append(r(t,""));return n}c.className="container-menu",u.className="container-content-menu",c.append(u),u.append(r("button-menu main btn-new-game","Новая игра")),u.append(r("button-menu main btn-rating","Рейтинг")),u.append(r("button-menu main btn-settings","Настройки")),u.append(r("header settings","Настройки")),u.append(r("setting settings","Размер поля")),u.append(l()),u.append(function(t){var e=document.createElement("div");return e.className="message settings",e.textContent=t,e}("Сохранено. Начните новую игру.")),u.append(r("button-menu settings exit-settings","Назад")),u.append(r("header gratulate","УРАААА")),u.append(r("message-gratulate gratulate","")),u.append(r("button-menu gratulate exit-gratulate","Назад")),u.append(r("header rating","Рейтинг")),u.append(((i=document.createElement("div")).className="rating-body rating",i.append(s("date-rating text-rating rating","Дата")),i.append(s("time-rating text-rating rating","Время")),i.append(s("moves-rating text-rating rating","Шагов")),i.append(s("field-rating text-rating rating","Поле")),i)),u.append(r("button-menu rating exit-rating","Назад")),document.body.append(c),o(document.querySelectorAll(".settings"),"none"),o(document.querySelectorAll(".rating"),"none"),o(document.querySelectorAll(".gratulate"),"none");var f,m=document.querySelectorAll(".main"),d=document.querySelectorAll(".settings"),p=document.querySelector(".select"),v=document.querySelector(".btn-settings"),g=document.querySelector(".exit-settings"),h=document.querySelector(".message"),y=4;function S(){return+y}function x(t,e,n){if(0!==t){var r=document.createElement("div");return r.className="element",r.textContent=t,r.style.left="".concat(n%e*(100/e),"%"),r.style.top="".concat(Math.floor(n/e)*(100/e),"%"),r.style.width="".concat(100/e,"%"),r.style.height="".concat(100/e,"%"),r.style.transition="all 1s",r}return!1}function b(t,e,n){for(var r=0,o=e+1;o<t.length;o+=1)n>t[o]&&(r+=1);return r}(f=localStorage.getItem("arraySaveGame"))&&"null"!==f&&(f=f.split(","),y=+f[f.length-2]),v.addEventListener("click",(function(){o(d,""),h.style.opacity="0",o(m,"none")})),p.addEventListener("change",(function(t){y=t.target.value,h.style.opacity="1",setTimeout((function(){h.style.opacity="0"}),2e3)})),g.addEventListener("click",(function(){o(d,"none"),o(m,"")}));var q=document.querySelector(".btn-pause"),E=!0;function C(){var t=document.querySelector(".container-menu"),e=document.querySelector(".btn-pause");E=!0,t.style.display="",e.textContent="Играть"}function A(){var t=document.querySelector(".container-menu"),e=document.querySelector(".btn-pause");E=!1,t.style.display="none",e.textContent="Пауза"}function I(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}q.addEventListener("click",(function(){Boolean(+localStorage.getItem("isGameStart"))&&(E?A():C())}));var z=document.querySelector(".time"),M=[];function k(t){return"".concat(t).length<2?"0".concat(t):t}function G(t){var e=[],n=Math.floor(t/60),r=t%60;return n=k(n),r=k(r),e.push(n,r),e}function L(t,e){!function(t){var e=t,n=setInterval((function(){if(!E){var t=I(G(e+=1),2),n=t[0],r=t[1];z.textContent="Время: ".concat(n,":").concat(r),localStorage.setItem("saveTimeCounter",e)}}),1e3);M.push(n)}(e),t&&(clearInterval(M[0]),M.shift())}function N(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done)&&(n.push(i.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw a}}return n}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return O(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var j=document.querySelector(".btn-new-game"),T=document.querySelector(".moves"),R=document.querySelector(".time"),U=[],W=!1;function P(){"0"===localStorage.getItem("isGameStart")&&localStorage.setItem("isGameStart","1")}function Y(){var t=localStorage.getItem("arraySaveGame");if("null"!==t&&t){var e=function(){var t=localStorage.getItem("arraySaveGame").split(",");U=(U=t.slice(0,t.length-2)).map((function(t){return+t}));var e=+localStorage.getItem("saveTimeCounter"),n=N(G(e),2),r=n[0],o=n[1];return R.textContent="Время: ".concat(r,":").concat(o),T.textContent="Шагов: ".concat(t[t.length-1]),e}();L(W,e),W=!0,P(),A()}else{var n=S();!function(t){for(var e=0;e<t;e+=1){var n=(r=t,o=void 0,o=Math.random()*r,Math.floor(o));-1===U.indexOf(n)?U.push(n):e-=1}var r,o}(n*n),function(t,e){for(var n=0,r=0;r<t.length;r+=1){var o=t[r];n+=0===o?Math.ceil(r%e):b(t,r,o)}return n%2==0}(U,n)||(U=[],Y())}}function B(){var t;U=[],(t=document.querySelectorAll(".element")).length>0&&t.forEach((function(t){t.remove()})),Y(),function(){for(var t=document.querySelector(".container"),e=S(),n=0;n<U.length;n+=1){var r=x(U[n],e,n);r&&t.append(r)}}()}localStorage.setItem("isGameStart","0"),j.addEventListener("click",(function(){R.textContent="Время: 00:00",T.textContent="Шагов: 0",localStorage.setItem("arraySaveGame","null"),L(W,0),W=!0,P(),B(),A()}));var X=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.value=e,this.position=1,this.next=null,this.top=null,this.right=null,this.bottom=null,this.left=null};function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function H(t){var e=[],n=t.head;for(e.push(n.value);n.next;)n=n.next,e.push(n.value);return e}function $(t){for(var e=function(){for(var t=S(),e=t*t-1,n=[],r=1;r<=e;r+=1)n.push(r);return n.push(0),n}(),n=H(t),r=0;r<e.length;r+=1)if(e[r]!==n[r])return!1;return!0}function F(t){var e=H(t);e.push(S()),e.push(t.moves),localStorage.setItem("arraySaveGame",e)}var J=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=null,this.length=0,this.moves=0}var e,n,r;return e=t,(n=[{key:"addNext",value:function(t){if(0===this.length)this.head=new X(t);else{for(var e=this.head;e.next;)e=e.next;e.next=new X(t),e.next.position=e.position+1}this.length+=1}},{key:"createGraphOfElements",value:function(){var t=S(),e=this.head,n=e;e.right=e.next,e.next.left=e;for(var r=e.position+t,o=e.position;o<r;o+=1)n.next&&(n=n.next);for(e.bottom=n,n.top=e;e.next;)if(n=(e=e.next).next,e.position%t!=0&&(e.right=e.next,e.next.left=e),Math.ceil(e.position/t)<t){for(var a=e.position;a<e.position+(t-1);a+=1)n.next&&(n=n.next);e.bottom=n,n.top=e}F(this)}},{key:"getPosition",value:function(t){for(var e=this.head;e&&e.value!==+t;)e=e.next;return e.position}},{key:"getNeighbor",value:function(t){for(var e=this,n=[],r=this.head;r&&r.value!==+t;)r=r.next;var o=function(t,o){if(e.size=S(),e.side=o,e.cur=t,e.side&&0===e.side.value)if(e.side===r.left){var a;a=(e.cur.position-2)%e.size*(100/e.size),n.push("left",a,e.cur.position)}else if(e.side===r.top){var i;i=Math.floor((e.cur.position-e.size-1)/e.size)*(100/e.size),n.push("top",i,e.cur.position)}else if(e.side===r.right){var c;c=e.cur.position%e.size*(100/e.size),n.push("right",c,e.cur.position)}else{var u;u=Math.floor((e.cur.position+(e.size-1))/e.size)*(100/e.size),n.push("bottom",u,e.cur.position)}};return o(r,r.left),o(r,r.bottom),o(r,r.right),o(r,r.top),n}},{key:"searchAndSwap",value:function(t,e){for(var n=this,r=this.head;r&&r.value!==+t;)r=r.next;var o=function(t,e,o){if(n.htmlElement=o,n.size=S(),n.side=e,n.cur=t,n.side&&0===n.side.value){n.moves+=1,n.side===r.left?n.htmlElement.style.left="".concat((n.cur.position-2)%n.size*(100/n.size),"%"):n.side===r.top?n.htmlElement.style.top="".concat(Math.floor((n.cur.position-n.size-1)/n.size)*(100/n.size),"%"):n.side===r.right?n.htmlElement.style.left="".concat(n.cur.position%n.size*(100/n.size),"%"):n.htmlElement.style.top="".concat(Math.floor((n.cur.position+(n.size-1))/n.size)*(100/n.size),"%");var a=n.side,i=n.cur.value;n.cur.value=a.value,a.value=i,F(n)}};o(r,r.left,e),o(r,r.bottom,e),o(r,r.right,e),o(r,r.top,e)}}])&&D(e.prototype,n),r&&D(e,r),t}(),K={},Q=document.querySelector(".btn-new-game"),V=document.querySelector(".moves"),Z=0;function _(t){var e=t.target,n=document.querySelector(".container"),r=t.clientX-e.getBoundingClientRect().left,o=t.clientY-e.getBoundingClientRect().top,a=K.getNeighbor(e.textContent);function i(t,a){var i=t-document.body.offsetWidth/2+n.offsetWidth/2-r,c=a-100-o;e.style.left="".concat(i/n.offsetWidth*100,"%"),e.style.top="".concat(c/n.offsetHeight*100,"%")}function c(t){i(t.pageX,t.pageY)}function u(n,r){var o;"left"===a[0]||"right"===a[0]?e.style.top="".concat(n,"%"):e.style.left="".concat(r,"%"),o=t,K.searchAndSwap(o.target.textContent,o.target),Z=K.moves,V.textContent="Шагов: ".concat(Z)}function l(){var t=S(),r=function(){var t=[],r=getComputedStyle(e),o=r.left,a=r.top;o=+o.substr(0,o.length-2),a=+a.substr(0,a.length-2);var i=o/n.offsetWidth*100,c=a/n.offsetHeight*100;return t.push(i,c),t}(),o=r[0],i=r[1],c=0,l=0;if(a.length>1){var s=Math.round(e.offsetWidth/n.offsetWidth*100/3),f=function(t,e,n,r){var o=0,i=0,c=[];return"left"===a[0]||"right"===a[0]?(o=Math.round(Math.abs(a[1]-e)),i=Math.round(Math.abs(e-t))):"top"!==a[0]&&"bottom"!==a[0]||(o=Math.round(Math.abs(a[1]-r)),i=Math.round(Math.abs(r-n))),c.push(o,i),c}(c=(a[2]-1)%t*(100/t),o,l=Math.floor((a[2]-1)/t)*(100/t),i),m=f[0],d=f[1];m<=s||d<=2?u(l,c):(e.style.left="".concat(c,"%"),e.style.top="".concat(l,"%"))}else!function(t){var n=K.getPosition(e.textContent),r=(n-1)%t*(100/t),o=Math.floor((n-1)/t)*(100/t);e.style.left="".concat(r,"%"),e.style.top="".concat(o,"%")}(t)}e.ondragstart=function(){return!1},e.style.transition="",e.style.zIndex="1000",i(t.pageX,t.pageY),document.addEventListener("mousemove",c),e.onmouseup=function(){document.removeEventListener("mousemove",c),e.style.transition="all 1s",l(),setTimeout((function(){e.style.zIndex=""}),1e3),e.onmouseup=null}}function tt(){var t=V.textContent.slice(7,V.textContent.length),e=U;(K=new J).moves=+t,e.forEach((function(t){return K.addNext(t)})),K.createGraphOfElements(),document.querySelectorAll(".element").forEach((function(t){t.addEventListener("mousedown",_)}))}function et(){return K}B(),tt(),Q.addEventListener("click",tt);var nt=document.querySelectorAll(".main"),rt=document.querySelector(".btn-rating"),ot=document.querySelectorAll(".rating"),at=document.querySelector(".exit-rating"),it=document.querySelectorAll(".date-rating"),ct=document.querySelectorAll(".time-rating"),ut=document.querySelectorAll(".moves-rating"),lt=document.querySelectorAll(".field-rating");function st(){var t=function(t){var e=[],n=[];return t.forEach((function(t){var n=t.split(",");e.push(n[0])})),e.sort((function(t,e){return t-e})),e.forEach((function(e){for(var r=0;r<t.length;r+=1)e===t[r].split(",")[0]&&n.push(t[r])})),n}(localStorage.getItem("arrayRatingUser").split("-")),e=0,n=!0;t.forEach((function(t){if(n){var r=t.split(",");r=r.slice(1),it[e].textContent=r[0],ct[e].textContent=r[1],ut[e].textContent=r[2],lt[e].textContent=r[3],(e+=1)>=10&&(n=!1)}}))}function ft(){var t=new Date,e=t.getDate(),n=t.getMonth()+1;n<10&&(n="0".concat(n));var r=t.getFullYear(),o=document.querySelector(".time"),a=document.querySelector(".moves"),i=o.textContent.slice(7),c=a.textContent.slice(7),u=S(),l=localStorage.getItem("saveTimeCounter"),s=[];s.push(l,"".concat(e,".").concat(n,".").concat(r)),s.push(i,c,"".concat(u,"x").concat(u)),function(t){if(localStorage.getItem("arrayRatingUser")){var e=localStorage.getItem("arrayRatingUser"),n="".concat(e,"-").concat(t);localStorage.setItem("arrayRatingUser",n)}else localStorage.setItem("arrayRatingUser",t)}(s),st()}function mt(){o(ot,""),o(nt,"none")}rt.addEventListener("click",(function(){localStorage.getItem("arrayRatingUser")?(st(),mt()):mt()})),at.addEventListener("click",(function(){o(ot,"none"),o(nt,"")}));var dt=document.querySelector(".btn-new-game"),pt=document.querySelector(".btn-pause"),vt=document.querySelectorAll(".main"),gt=document.querySelectorAll(".gratulate"),ht=document.querySelector(".exit-gratulate");function yt(){localStorage.setItem("isGameStart","0"),localStorage.setItem("arraySaveGame","null"),C(),document.querySelector(".container-menu").style.display="",o(gt,""),o(vt,"none"),pt.textContent="Пауза",function(){var t=document.querySelector(".message-gratulate"),e=document.querySelector(".time"),n=document.querySelector(".moves"),r=e.textContent.slice(7,e.textContent.length),o=n.textContent.slice(7,n.textContent.length);t.textContent="Вы решили головоломку за ".concat(r," и ").concat(o," ходов")}(),ft()}function St(){$(et())&&setTimeout((function(){yt()}),1e3)}dt.addEventListener("click",(function(){document.querySelectorAll(".element").forEach((function(t){t.addEventListener("click",St)}))})),ht.addEventListener("click",(function(){o(gt,"none"),o(vt,"")}))}},e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={exports:{}};return t[r](o,o.exports,n),o.exports}n.m=t,n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){var t={179:0},e=[[1202,202],[1595,202]],r=function(){};function o(){for(var r,o=0;o<e.length;o++){for(var a=e[o],i=!0,c=1;c<a.length;c++){var u=a[c];0!==t[u]&&(i=!1)}i&&(e.splice(o--,1),r=n(n.s=a[0]))}return 0===e.length&&(n.x(),n.x=function(){}),r}n.x=function(){n.x=function(){},i=i.slice();for(var t=0;t<i.length;t++)a(i[t]);return(r=o)()};var a=function(o){for(var a,i,u=o[0],l=o[1],s=o[2],f=o[3],m=0,d=[];m<u.length;m++)i=u[m],n.o(t,i)&&t[i]&&d.push(t[i][0]),t[i]=0;for(a in l)n.o(l,a)&&(n.m[a]=l[a]);for(s&&s(n),c(o);d.length;)d.shift()();return f&&e.push.apply(e,f),r()},i=self.webpackChunk=self.webpackChunk||[],c=i.push.bind(i);i.push=a}(),n.x()}();